async function t(){try{typeof firebase>"u"&&await o();const e={apiKey:"AIzaSyCLom-K30l4D54NjSbjgl_P9320RBkdbNk",authDomain:"final-da3c1.firebaseapp.com",projectId:"final-da3c1",messagingSenderId:"145267213050",appId:"1:145267213050:web:53aaf1acc58668f563ff43"};firebase.apps.length||firebase.initializeApp(e);const i=firebase.messaging(),a=await navigator.serviceWorker.register("/build/firebase-messaging-sw.js");if(await Notification.requestPermission()==="granted"){const s=await i.getToken({vapidKey:"BFduxRbXkAJc4aLnR6vuUS0yzbX41SVkxRvdrFjtvm_-6BNfM0VxJHIWy5IFq8DwrdcN5BIP2A4Au36Lc91sXhM",serviceWorkerRegistration:a});r(s)}i.onMessage(c)}catch(e){console.error("Firebase Messaging Error:",e)}}async function o(){return new Promise(e=>{const i=document.createElement("script");i.src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js",i.onload=()=>{const a=document.createElement("script");a.src="https://www.gstatic.com/firebasejs/9.6.10/firebase-messaging-compat.js",a.onload=e,document.head.appendChild(a)},document.head.appendChild(i)})}function r(e){localStorage.setItem("fcmToken",e),document.getElementById("newFcmToken").value=e}function c(e){var i,a,n,s;Notification.permission==="granted"&&new Notification(((i=e.notification)==null?void 0:i.title)||"New Notification",{body:(a=e.notification)==null?void 0:a.body,icon:((n=e.notification)==null?void 0:n.image)||"/img/placeholder-img.jfif",data:{url:((s=e.data)==null?void 0:s.link)||"/"}})}window.initFirebaseMessaging=t;
